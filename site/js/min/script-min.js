function stickyNav(){var e=$(window).scrollTop(),t=$("#query").offset().top+65,a=t-e;e>a?($("#searchWrap").addClass("sticky"),$("#data").addClass("sticky")):($("#searchWrap").removeClass("sticky"),$("#data").removeClass("sticky"))}var hiddenVariables=["$.fn.autocomplete","$.fn.tooltip","$.fn.tabs","$.widget","$.fn.button","$.fn.mouse","$.fn.menu","$.position","$.fn._focus","$.fn._show","$.fn._hide","$.fn._addClass","$.fn._removeClass","$.fn._toggleClass","$.fn.__toggle","$.fn.selectable","$.fn.progressbar","$.fn.buttonset","$.effects","$.fn.effect","$.fn.draggable","$.fn.droppable","$.fn.datepicker","$.datepicker","$.fn.dialog","$.fn.slider","$.fn.sortable","$.fn.resizable","$.fn.accordion","$.fn.scrollParent","$.fn.uniqueId","$.fn.removeUniqueId","$.fn.focus","$.fn.disableSelection","$.fn.enableSelection","$.fn.zIndex","$.fn.toggleClass","$.fn.switchClass","$.fn.cssUnit","$.data","$.focusable","$.tabbable","$.Widget","$.fn.propAttr","$.fieldValue","$.fn.fieldValue","$.fn.ajaxSubmit","$.fn.formToArray","$.fn.ajaxFormUnbind","$.fn.clearForm","$.fn.formSerialize","$.fn.fieldSerialize","$.fn.enable","$.fn.clearInputs","$.fn.clearFields","$.fn.resetForm","GSearchForm","GwebSearch","GcustomwebSearch","GbookSearch","GblogSearch","GvideoSearch","GnewsSearch","GlocalSearch","GcustomimageSearch","GpatentSearch","GSearchControl","GsearcherOptions","GdrawOptions","GimageSearch","CreativeToolset","CreativeToolsetProxy","ExpandableAdSlotFactory","DhtmlExpandableIframeFactory","GPT_jstiming","GA_jstiming","ToolbarApi","DEBUG","Analytics","Fx","Try","Chain","Selectors","Class","Form","Window","Events","Elements","Options","Type","Toggle","Position","Browser","Asset","Field","Insertion","Color","Request","Tips","Group","Effect","Native","Builder","Control","Locale","Table","Ease","Strong","Power4","Quint","Power3","Quart","Power2","Cubic","Quad","Power1","Linear","Power0","Back","BackOut","BackIn","BackInOut","SlowMo","BounceOut","BounceIn","SteppedEase","BounceInOut","Bounce","CircOut","CircIn","CircInOut","CSSPlugin","Circ","ElasticOut","ElasticIn","ElasticInOut","Elastic","ExpoOut","ExpoIn","ExpoInOut","Expo","SineOut","RoughEase","SineIn","Sine","SineInOut","EaseLookup","IframeBase","Iframe","IFrame","IframeProxy","IframeWindow"],hiddenVariableGroups=/^(Goog_.+|G(A|S)_google.+|WebForm_.+|WR[A-z]{1,2}|ClickTale[A-z]+|BAIDU_[A-z]+|\$(\.fn)?\.wpcf7[A-z].+|Sys\$[A-z].+|[A-Z][0-9]{1,2}|[A-z]$|[A-Z][a-z]$)/,$html=$("html"),$body=$("body"),$header_code=$("#header-code"),$header_code_object=$("#header-code-object"),$header_code_property=$("#header-code-property"),$header_logo=$("#header-logo"),$header_logo_o=$("#header-logo o"),$main=$("main"),$slogan=$("#slogan"),$subSlogan=$("#subSlogan"),$data=$("#data"),$data_table=$("#data table"),$data_cols=$("#data_cols"),$data_scroll=$("#data_scroll"),$about=$("#about"),$sectionHeader_search=$("#sectionHeader--search"),$search_=$("#search_"),$search=$("#search"),$searchSymbols=$("#searchSymbols"),$queryButtons=$("#queryButtons span"),$howTo=$("#howTo"),$footer=$("footer"),$subscribe_=$("#subscribe_"),$subscribe=$("#subscribe"),$searchWrap=$("#searchWrap");$body.on("mousedown",function(e){var t=e.target,a=t.getAttribute("data-query");if(t.href&&(e.preventDefault(),window.open(t.href)),null!==a)for(var s=a||$(t).text(),r=0;r<s.length;r++)!function(e){setTimeout(function(){$search.val(s.slice(0,e+1)),e===s.length-1&&setTimeout(function(){UI.query($search[0])},75)},e*(18-Math.min(12,s.length))*3)}(r)}),$search.one("mouseup",function(){$search.select()}),$subscribe.one("mouseup",function(){$subscribe.val("email@domain.com").select()});var UI={loading:!1,showCount:function(){},hideCount:function(){},error:function(){$search.addClass("error"),$.Velocity.RunSequence([{elements:$search_,properties:"callout.shake",options:{delay:800,duration:450,sequenceQueue:!1}}])},query:function(){function e(e,t){function a(e){UI.loading=!0,$html.css("cursor","wait"),$.ajax({url:s.hostname+e,dataType:"json",complete:function(){UI.loading=!1,$html.css("cursor","default")},success:function(e){e&&e.meta?(t(e),$data_table.addClass("show"),$data_cols.addClass("show")):UI.error()},error:UI.error})}var s={hostname:"http://107.170.240.125/v1/",librariesPath:"libraries/",sitesPath:"sites/",scriptsPath:"scripts/"},r;switch(/\.js$/.test(e)&&alert("Be careful: We noticed you suffixed your search query with '.js'. Instead, you need to enter the exact case-sensitive VARIABLE that a library exposes itself under -- not simply the name of the library."),e=$.trim(e.replace(/^(^https?:\/\/)?(www\.)?/i,"").replace(/^jQuery\./i,"$.").replace(/\.js$/i,"")),("jquery"===e||"$"===e)&&("jquery"===e&&alert("Be careful: Variable lookup is case sensitive. We've gone ahead and turned 'jquery' into 'jQuery' for you. Remember that you need to enter the exact case-sensitive VARIABLE that a library epxoses itself under -- not simply the name of the library."),e="jQuery"),$search.val(e),window.location.hash=e,/^[-A-z0-9]+\.[-A-z0-9]+$/.test(e)?(r="site",e=e.toLowerCase()):/^script: ?[-A-z0-9]+/.test(e)?(r="script",e=e.replace(/^script: */,"").toLowerCase()):r=e,"libscore.com"===e&&alert("OMG. RECURSION!!@#!KJ$K BRAIN EXPLOSION. AHAHAHAHAHAHHHHHHH\n\nJust kidding. Let's pull some data from you."),r){case"site":UI.requestTarget="site",a(s.sitesPath+e+"/?");break;case"*.*":UI.requestTarget="sites",a(s.sitesPath+"?limit=1000");break;case"script":UI.requestTarget="script",a(s.scriptsPath+e+"?limit=1000");break;case"script:*":UI.requestTarget="scripts",a(s.scriptsPath+"?limit=1000");break;case"*":UI.requestTarget="libs",a(s.librariesPath+"?limit=1500");break;default:UI.requestTarget="lib",a(s.librariesPath+e+"?limit=1000")}}function t(e,t){var a=e,s=!1;return e.length>40&&(s=!0,a=a.slice(0,37)),a=a.replace(/\./g,"<span class='accent'>.</span>"),s&&(a="<span title='"+e+"'>"+a+"…</span>"),"mobile"===t&&(a+=" <span title='Appears on the mobile version of this site.' class='accent'>[mobile]</span>"),a}function a(e,t){var a=numeral(e).format("0,0").replace(/,/g,"<span class='accent'>,</span>");return t===!0&&(a="<span class='text-grey'>#</span>"+a),a}var s=$search.val();$search.removeClass("error"),$body.addClass("results"),setTimeout(function(){$data.addClass("show")},800),$("#header-logo").on("click",function(){$("body").hasClass("results")&&(window.location.hash="",$("body").removeClass("results"),$("table").empty(),$data_cols.removeClass("show"))});var r;e(s,function(e){var o="",i;switch(e.scripts&&(e.libraries=e.libraries.concat(e.scripts.map(function(e){return e.name="script:"+e.name,e}))),r=e.results||e.sites||e.libraries,r.forEach(function(r){var n;if(-1===hiddenVariables.indexOf(r.library||r.name)&&!hiddenVariableGroups.test(r.library||r.name)){switch(UI.requestTarget){case"site":i="<h3 class='middle'><span>Site: </span> "+s+" </h3><div>library</div>"+s+"<div>site count</div>";var l=/^script:/.test(r.name);l?n="<td><a href='//"+r.name.replace(/^script:/,"")+"'>"+t(r.name,r.type)+"</a> <span class='text-blue'>⬈</span></td>":(n="<td><a href='//"+(r.github?"github.com/"+r.github:"github.com/julianshapiro/libscore/issues/1")+"'>"+t(r.name,r.type),n+=" <span class='text-blue'>"+(r.github?"⬈":"<span class='hint' data-hint='Click to help track down this library.'>?</span>")+"</span></a>"),n+="<td>"+a(r.count)+"</td>";break;case"sites":i="<h3 class='middle'><span>Top Sites</span></h3><div>site</div><div>site rank</div>",n="<td><span data-query='"+r.url+"'>"+t(r.url)+"</span> <span class='text-green'>→</span></td>",n+="<td>"+a(r.rank,!0)+"</td>";break;case"lib":i="<h3 class='middle'><span>Library: </span> "+s+" </h3><div><span id='data_badge'>"+a(e.count)+"</span> sites <a href='http://107.170.240.125/badge/"+$search.val()+".svg'>Get badge</a></div></div><div>site rank</div>",n="<td><a href='//"+r.url+"'>"+t(r.url)+" <span class='text-blue'>⬈</span></a></td>",n+="<td>"+a(r.rank,!0)+"</td>";break;case"libs":i="<h3 class='middle'><span>Top Libs</span></h3><div>library <a href='https://107.170.240.125/libraries.txt'>Download list</a></div><div>site count</div>",n="<td><a href='//"+(r.github?"github.com/"+r.github:"github.com/julianshapiro/libscore/issues/1")+"'>"+t(r.library)+" <span class='text-blue'>"+(r.github?"⬈":"<span class='hint' data-hint='Click to help track down this library.'>?</span>")+"</span></a>",n+="<td>"+a(r.count)+"</td>";break;case"script":i="<h3 class='middle'><span>Script: </span> "+s+" </h3><div>"+a(e.count)+" sites</div><div>site rank</div>",n="<td><a href='//"+r.url+"'>"+t(r.url)+" <span class='text-blue'>⬈</span></a></td>",n+="<td>"+a(r.rank,!0)+"</td>";break;case"scripts":i="<h3 class='middle'><span>Top Scripts</span></h3><div>script</div><div>site count</div>",n="<td><span data-query='script:"+r.script+"'>"+t(r.script)+"</span> <span class='text-green'>→</span></td>",n+="<td>"+a(r.count)+"</td>"}o+="<tr>"+n+"</tr>"}}),UI.requestTarget){case"lib":UI.showCount();break;default:UI.hideCount()}$data_table.css("opacity",0)[0].scrollTop=0,o?($data_cols.html(i),$data_table.html(o)):($data_cols.html("<div>library</div><div>site count</div>"),$data_table.html("<tr><td class='text-red'>No libraries or scripts were detected on this site.</td><td class='text-red'>Ø</td></tr>")),r.length>900&&$data_table.append("<tr id='data_more'><td>Results after 1,000 are not shown. Query our <a href='https://github.com/julianshapiro/libscore'>API</a> for a complete list.</td><td></td></tr>")})}};"true"===localStorage.getItem("subscribed")&&$subscribe.remove(),$("input").on("keydown",function(e){13===e.keyCode&&""!==this.value&&("search"===this.id&&"variable (case sensitive) or domain..."!==this.value?UI.query(e.target):"subscribe"===this.id&"email@domain.com"!==this.value&&(localStorage.setItem("subscribed","true"),$subscribe_.submit(),$subscribe.remove()))}),$(window).load(function(){$.Velocity.RunSequence([{elements:$header_logo,properties:"transition.fadeIn",options:{delay:100,duration:800}},{elements:$slogan,properties:"transition.fadeIn",options:{delay:400,duration:725,sequenceQueue:!1}},{elements:$search_,properties:"transition.clipBottomIn",options:{duration:725,sequenceQueue:!1}},{elements:$queryButtons,properties:"transition.fadeIn",options:{delay:200,duration:300,stagger:125,sequenceQueue:!1}},{elements:$howTo,properties:"transition.clipBottomIn",options:{delay:150,duration:900,sequenceQueue:!1}},{elements:$header_logo_o,properties:{opacity:[.6,1]},options:{sequenceQueue:!1,duration:500,loop:2}},{elements:$header_code,properties:"transition.fadeIn",options:{sequenceQueue:!1,duration:500,begin:function(){var e=window.location.hash.slice(1);e?($search.attr("placeholder",e),UI.query()):$search.attr("placeholder","variable (case sensitive) or domain..."),["location()","hash()","map()","<a href='//medium.com/@Shapiro/be93165fa497'>About</a>"].forEach(function(e,t){$.Velocity($header_code_property,"transition.vanishBottomIn",{delay:0===t?125:0,duration:250,begin:function(){$header_code_property.html(e),1===t&&$header_code_object.html("Array.")},complete:function(){3===t&&$.Velocity.RunSequence([{elements:$header_code_object,properties:"transition.fadeOut",options:{duration:400}},{elements:$header_code_property,properties:"callout.pulse",options:{duration:650}}])}})})}}},{elements:$header_logo_o,properties:{opacity:.9,color:"#24A85A"},options:{duration:2e3,loop:!0}}])}),$(window).width()<850&&$(window).on("scroll",function(){stickyNav()}),$(window).resize(function(e){$(window).width()<850&&$(window).on("scroll",function(){stickyNav()})});